# 精度调试

每一行的列属性可以划分为原VS和引流值、调节后的VS和引流值、0周期引流值和1周期注入值几个组合。

其中每个组合包含的具体属性为：

属性组合           | 包含属性
-------------------|------------------
原VS和引流值       | VS1、VS2、引流系数
调节后的VS和引流值 | VS1（调）、VS2（调）、引流系数（调）
0周期引流值        | 0周期引流量初值、0周期引流量末值、0周期引流量实际值、0周期引流量显示值、0周期引流量精度
1周期注入值        | 1周期注入量初值、1周期注入量末值、1周期注入量实际值、1周期注入量显示值、1周期注入量精度


每一行的各个属性组的来源：

**对于0周期引流值和1周期注入值**

**这时候的请求完就不用回复了么，不像VS中调试那样，第二次求出最终值返回给设备A**
**1. 其中每组0周期引流值都需要对设备组的AB进行一轮的数据请求(请求α、β、γ)。**
**2. 同样1周期注入值也需要再一次对设备的设备AB进行新一轮的数据请求(请求α、β、γ)。。**

**对于原VS和引流值**

如下表:

步骤|当前行标识|具体步骤|完成的属性组|完成某行
-|-|-|-|-
1|A|从VS调试拿到VS1和VS2原值，引流系数取默认值|原VS和引流值
2|A|通过一轮的数据请求得到α、β、γ|0周期引流值
3|A|又通过新一轮的数据请求得到α、β、γ|1周注入值
4|A|根据公式计算调整后的VS1、VS2和引流系数值|调节后的VS和引流值|完成第一行
5|B|VS1、VS2原值和引流系数和A中对应位置一致|原VS和引流值
6|B|请求α、β、γ|0周期引流值
7|B|请求α、β、γ|1周注入值
8|B|计算调整后的VS1、VS2和引流系数值|调节后的VS和引流值|完成第二行
9|C|VS1、VS2原值和引流系数和A中对应位置一致|原VS和引流值
0|C|请求α、β、γ|0周期引流值
1|C|请求α、β、γ|1周注入值
2|C|计算调整后的VS1、VS2和引流系数值|调节后的VS和引流值|完成第三行
3|无|**判断B11与C11的距离以及B16和C16的距离是否分别都小于Threshold1和Threshold2,若是执行第n步。若不满足，则执行下一步**
9|D|VS1、VS2原值和引流系数和A中对应位置一致|原VS和引流值
0|D|请求α、β、γ|0周期引流值
1|D|请求α、β、γ|1周注入值
2|D|计算调整后的VS1、VS2和引流系数值|调节后的VS和引流值|完成第四行
3|无|**B、C、D两两判断，选择满足条件判断B11与C11的距离以及B16和C16的距离是否分别都小于Threshold1和Threshold2,若是执行第n步。若不满足，则执行下一步**


**判断上两个满足否，不满足就再测一个，然后判断这三组中有没有满足条件的两组，若有，则按照规则更新VS1/2和引流系数原值。若没有，中止调试。**
**返回给A这三个值**

**同样的原值最多只会用三次，第一大轮除外，。。**
**range1，2,3,4和Threshold1和Threshold2 可编辑**



1.判断|B11-C11|<Threshold1？且|B16-C16|<Threshold2？(Threshold的值可编辑)，则D1=(B4+C4)/2,D2=(B5+C5)/2,D3=(B6+C6)/2。
2.不满足条件1，则重复步骤二 D1~3与A1~3相同，再测一组(D组)。
3.按照条件1，B、C、D两两判断，选择满足条件1的两组数据(比如B、D两组)，则E1=(B4+D4)/2,E2=(B5+D5)/2,E3=(B6+D6)/2。
4.若不满足条件3，则暂停该设备组并在界面上提示“精度不稳，请检查”。"




