Q: MAC和以太网Ethernet的关系？以及和局域网的关系？

Q: 使用MAC的除了Ethernet还有哪些协议？


## 第一层物理层

之前的网线水晶头的1、2和3、6脚分别是收、发信号的作用，为啥收和发分别需要两个呢？


1-3、2-6交叉接法 就可以实现两个机器相互收发数据

**hub、集线器**  工作在第一层
1. 采取的是广播的方式， 遇到包直接转发给其他所有端口
2. 不管是不是其他端口的
3. 所以如果报文很多的话就会出现冲突

## 第二层 数据链路层

需要解决Hub的几个问题？
1. 这个包是发给谁的？谁应该接收？
2. 都发的时候会不会产生混乱？有没有谁先发、谁后发的规则？
3. 如果大家发送的时候出现了错误怎么办？

这些都是第二层 数据链路层需要解决的问题，也称作MAC层， 

A: 问题2：
MAC全程Media Access Control、媒体访问控制，  控制啥？控制谁先发谁后发， 多路访问控制， 有几种常见的方式：
1. 信道划分：分多个车道， 每人一个道
2. 轮流协议：你明天， 我今天
3. 随机接入协议：（以太网就是这种方式），先出门，遇到堵车了就回家等等，错过高峰再出发

A: 问题1：
链路层地址，又称MAC地址

A: 问题3：
对于以太网， 最后一个自动是CRC，循环冗余检测，通过OXR异或算法， 计算是否出现了错误


## ARP
如果不知道MAC， 就用ARP， 根据IP查询MAC， 有过期时间

- 网络层使用IP进行寻址， 数据链路层使用MAC地址进行寻址， 因此网络层必须将目标IP转换成MAC地址， 才能使用数据链路层提供的服务， 不然无法继续传输



**交换机**
可以解析MAC地址， 记录每个MAC来自哪个端口， 从而避免所有的报文都像hub一样广播出去， 存储的内容就是转发表， 也有过期时间



## 小结
1. MAC层是用来解决多路访问堵车的问题的
2. ARP是通过吼的方式寻找MAC地址的， 但是有缓存周期
3. 交换机是有MAC地址学习能力的， 学完就不用广播了


Q: 除了ARP还有个RARP， 通过MAC查IP， 你知道应用场景是啥么？
A: 用于那些无存储能力的无盘工作站， 通常会有一个RARP服务器，上面记录MAC和IP的映射关系。 这些工作站无法记住自己的IP地址， 所以通过RARP协议查询自己网卡上的MAC地址对应的IP


#todo
Q: 如果一个局域网中有多个交换机， ARP广播的模式会出现什么问题？
A: 所有交换机都在广播， 广播风暴？从你左手出去的ARP最后又回到右手， 死循环？
